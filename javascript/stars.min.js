!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(window.jQuery)}((function(t){"use strict";var e,a;t.fn.ratingLocales={},t.fn.ratingThemes={},e={NAMESPACE:".rating",DEFAULT_MIN:0,DEFAULT_MAX:5,DEFAULT_STEP:.5,isEmpty:function(e,a){return null==e||0===e.length||a&&""===t.trim(e)},getCss:function(t,e){return t?" "+e:""},addCss:function(t,e){t.removeClass(e).addClass(e)},getDecimalPlaces:function(t){var e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0},applyPrecision:function(t,e){return parseFloat(t.toFixed(e))},handler:function(t,a,n,i,r){var s=r?a:a.split(" ").join(e.NAMESPACE+" ")+e.NAMESPACE;i||t.off(s),t.on(s,n)}},a=function(e,a){this.$element=t(e),this._init(a)},a.prototype={constructor:a,_parseAttr:function(t,a){var n,i,r,s,l=this.$element,o=l.attr("type");if("range"===o||"number"===o){switch(i=a[t]||l.data(t)||l.attr(t),t){case"min":r=e.DEFAULT_MIN;break;case"max":r=e.DEFAULT_MAX;break;default:r=e.DEFAULT_STEP}n=e.isEmpty(i)?r:i,s=parseFloat(n)}else s=parseFloat(a[t]);return isNaN(s)?r:s},_parseValue:function(t){var e=parseFloat(t);return isNaN(e)&&(e=this.clearValue),!this.zeroAsNull||0!==e&&"0"!==e?e:null},_setDefault:function(t,a){e.isEmpty(this[t])&&(this[t]=a)},_initSlider:function(t){var a=this,n=a.$element.val();a.initialValue=e.isEmpty(n)?0:n,a._setDefault("min",a._parseAttr("min",t)),a._setDefault("max",a._parseAttr("max",t)),a._setDefault("step",a._parseAttr("step",t)),(isNaN(a.min)||e.isEmpty(a.min))&&(a.min=e.DEFAULT_MIN),(isNaN(a.max)||e.isEmpty(a.max))&&(a.max=e.DEFAULT_MAX),(isNaN(a.step)||e.isEmpty(a.step)||0===a.step)&&(a.step=e.DEFAULT_STEP),a.diff=a.max-a.min},_initHighlight:function(t){var e,a=this,n=a._getCaption();t||(t=a.$element.val()),e=a.getWidthFromValue(t)+"%",a.$filledStars.width(e),a.cache={caption:n,width:e,val:t}},_getContainerCss:function(){var t=this;return"rating-container"+e.getCss(t.theme,"theme-"+t.theme)+e.getCss(t.rtl,"rating-rtl")+e.getCss(t.size,"rating-"+t.size)+e.getCss(t.animate,"rating-animate")+e.getCss(t.disabled||t.readonly,"rating-disabled")+e.getCss(t.containerClass,t.containerClass)},_checkDisabled:function(){var t=this,e=t.$element,a=t.options;t.disabled=void 0===a.disabled?e.attr("disabled")||!1:a.disabled,t.readonly=void 0===a.readonly?e.attr("readonly")||!1:a.readonly,t.inactive=t.disabled||t.readonly,e.attr({disabled:t.disabled,readonly:t.readonly})},_addContent:function(t,e){var a=this.$container,n="clear"===t;return this.rtl?n?a.append(e):a.prepend(e):n?a.prepend(e):a.append(e)},_generateRating:function(){var a,n,i,r=this,s=r.$element;n=r.$container=t(document.createElement("div")).insertBefore(s),e.addCss(n,r._getContainerCss()),r.$rating=a=t(document.createElement("div")).attr("class","rating-stars").appendTo(n).append(r._getStars("empty")).append(r._getStars("filled")),r.$emptyStars=a.find(".empty-stars"),r.$filledStars=a.find(".filled-stars"),r._renderCaption(),r._renderClear(),r._initHighlight(),n.append(s),r.rtl&&(i=Math.max(r.$emptyStars.outerWidth(),r.$filledStars.outerWidth()),r.$emptyStars.width(i)),s.appendTo(a)},_getCaption:function(){var t=this;return t.$caption&&t.$caption.length?t.$caption.html():t.defaultCaption},_setCaption:function(t){var e=this;e.$caption&&e.$caption.length&&e.$caption.html(t)},_renderCaption:function(){var a,n=this,i=n.$element.val(),r=n.captionElement?t(n.captionElement):"";if(n.showCaption){if(a=n.fetchCaption(i),r&&r.length)return e.addCss(r,"caption"),r.html(a),void(n.$caption=r);n._addContent("caption",'<div class="caption">'+a+"</div>"),n.$caption=n.$container.find(".caption")}},_renderClear:function(){var a,n=this,i=n.clearElement?t(n.clearElement):"";if(n.showClear){if(a=n._getClearClass(),i.length)return e.addCss(i,a),i.attr({title:n.clearButtonTitle}).html(n.clearButton),void(n.$clear=i);n._addContent("clear",'<div class="'+a+'" title="'+n.clearButtonTitle+'">'+n.clearButton+"</div>"),n.$clear=n.$container.find("."+n.clearButtonBaseClass)}},_getClearClass:function(){var t=this;return t.clearButtonBaseClass+" "+(t.inactive?"":t.clearButtonActiveClass)},_toggleHover:function(t){var e,a,n,i=this;t&&(i.hoverChangeStars&&(e=i.getWidthFromValue(i.clearValue),a=t.val<=i.clearValue?e+"%":t.width,i.$filledStars.css("width",a)),i.hoverChangeCaption&&((n=t.val<=i.clearValue?i.fetchCaption(i.clearValue):t.caption)&&i._setCaption(n+"")))},_init:function(e){var a,n=this,i=n.$element.addClass("rating-input");return n.options=e,t.each(e,(function(t,e){n[t]=e})),(n.rtl||"rtl"===i.attr("dir"))&&(n.rtl=!0,i.attr("dir","rtl")),n.starClicked=!1,n.clearClicked=!1,n._initSlider(e),n._checkDisabled(),n.displayOnly&&(n.inactive=!0,n.showClear=!1,n.showCaption=!1),n._generateRating(),n._initEvents(),n._listen(),a=n._parseValue(i.val()),i.val(a),i.removeClass("rating-loading")},_initEvents:function(){var t=this;t.events={_getTouchPosition:function(a){return(e.isEmpty(a.pageX)?a.originalEvent.touches[0].pageX:a.pageX)-t.$rating.offset().left},_listenClick:function(t,e){return t.stopPropagation(),t.preventDefault(),!0!==t.handled&&(e(t),void(t.handled=!0))},_noMouseAction:function(e){return!t.hoverEnabled||t.inactive||e&&e.isDefaultPrevented()},initTouch:function(a){var n,i,r,s,l,o,c,u,d=t.clearValue||0;("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)&&!t.inactive&&(n=a.originalEvent,i=e.isEmpty(n.touches)?n.changedTouches:n.touches,r=t.events._getTouchPosition(i[0]),"touchend"===a.type?(t._setStars(r),u=[t.$element.val(),t._getCaption()],t.$element.trigger("change").trigger("rating.change",u),t.starClicked=!0):(l=(s=t.calculate(r)).val<=d?t.fetchCaption(d):s.caption,o=t.getWidthFromValue(d),c=s.val<=d?o+"%":s.width,t._setCaption(l),t.$filledStars.css("width",c)))},starClick:function(e){var a,n;t.events._listenClick(e,(function(e){return!t.inactive&&(a=t.events._getTouchPosition(e),t._setStars(a),n=[t.$element.val(),t._getCaption()],t.$element.trigger("change").trigger("rating.change",n),void(t.starClicked=!0))}))},clearClick:function(e){t.events._listenClick(e,(function(){t.inactive||(t.clear(),t.clearClicked=!0)}))},starMouseMove:function(e){var a,n;t.events._noMouseAction(e)||(t.starClicked=!1,a=t.events._getTouchPosition(e),n=t.calculate(a),t._toggleHover(n),t.$element.trigger("rating.hover",[n.val,n.caption,"stars"]))},starMouseLeave:function(e){var a;t.events._noMouseAction(e)||t.starClicked||(a=t.cache,t._toggleHover(a),t.$element.trigger("rating.hoverleave",["stars"]))},clearMouseMove:function(e){var a,n,i;!t.events._noMouseAction(e)&&t.hoverOnClear&&(t.clearClicked=!1,a='<span class="'+t.clearCaptionClass+'">'+t.clearCaption+"</span>",n=t.clearValue,i={caption:a,width:t.getWidthFromValue(n)||0,val:n},t._toggleHover(i),t.$element.trigger("rating.hover",[n,a,"clear"]))},clearMouseLeave:function(e){var a;t.events._noMouseAction(e)||t.clearClicked||!t.hoverOnClear||(a=t.cache,t._toggleHover(a),t.$element.trigger("rating.hoverleave",["clear"]))},resetForm:function(e){e&&e.isDefaultPrevented()||t.inactive||t.reset()}}},_listen:function(){var a=this,n=a.$element,i=n.closest("form"),r=a.$rating,s=a.$clear,l=a.events;return e.handler(r,"touchstart touchmove touchend",t.proxy(l.initTouch,a)),e.handler(r,"click touchstart",t.proxy(l.starClick,a)),e.handler(r,"mousemove",t.proxy(l.starMouseMove,a)),e.handler(r,"mouseleave",t.proxy(l.starMouseLeave,a)),a.showClear&&s.length&&(e.handler(s,"click touchstart",t.proxy(l.clearClick,a)),e.handler(s,"mousemove",t.proxy(l.clearMouseMove,a)),e.handler(s,"mouseleave",t.proxy(l.clearMouseLeave,a))),i.length&&e.handler(i,"reset",t.proxy(l.resetForm,a),!0),n},_getStars:function(t){var e,a='<span class="'+t+'-stars">';for(e=1;e<=this.stars;e++)a+='<span class="star">'+this[t+"Star"]+"</span>";return a+"</span>"},_setStars:function(t){var e=this,a=arguments.length?e.calculate(t):e.calculate(),n=e.$element,i=e._parseValue(a.val);return n.val(i),e.$filledStars.css("width",a.width),e._setCaption(a.caption),e.cache=a,n},showStars:function(t){var e=this,a=e._parseValue(t);return e.$element.val(a),e._setStars()},calculate:function(t){var a=this,n=e.isEmpty(a.$element.val())?0:a.$element.val(),i=arguments.length?a.getValueFromPosition(t):n,r=a.fetchCaption(i),s=a.getWidthFromValue(i);return{caption:r,width:s+="%",val:i}},getValueFromPosition:function(t){var a,n,i=this,r=e.getDecimalPlaces(i.step),s=i.$rating.width();return n=i.diff*t/(s*i.step),n=i.rtl?Math.floor(n):Math.ceil(n),a=e.applyPrecision(parseFloat(i.min+n*i.step),r),a=Math.max(Math.min(a,i.max),i.min),i.rtl?i.max-a:a},getWidthFromValue:function(t){var e,a,n=this,i=n.min,r=n.max,s=n.$emptyStars;return!t||i>=t||i===r?0:(e=(a=s.outerWidth())?s.width()/a:1,t>=r?100:(t-i)*e*100/(r-i))},fetchCaption:function(t){var a,n,i,r=this,s=parseFloat(t)||r.clearValue,l=r.starCaptions,o=r.starCaptionClasses;return s&&s!==r.clearValue&&(s=e.applyPrecision(s,e.getDecimalPlaces(r.step))),i="function"==typeof o?o(s):o[s],n="function"==typeof l?l(s):l[s],a=e.isEmpty(n)?r.defaultCaption.replace(/\{rating}/g,s):n,'<span class="'+(e.isEmpty(i)?r.clearCaptionClass:i)+'">'+(s===r.clearValue?r.clearCaption:a)+"</span>"},destroy:function(){var a=this,n=a.$element;return e.isEmpty(a.$container)||a.$container.before(n).remove(),t.removeData(n.get(0)),n.off("rating").removeClass("rating rating-input")},create:function(t){var e=t||this.options||{};return this.destroy().rating(e)},clear:function(){var t=this,e='<span class="'+t.clearCaptionClass+'">'+t.clearCaption+"</span>";return t.inactive||t._setCaption(e),t.showStars(t.clearValue).trigger("change").trigger("rating.clear")},reset:function(){return this.showStars(this.initialValue).trigger("rating.reset")},update:function(t){var e=this;return arguments.length?e.showStars(t):e.$element},refresh:function(e){var a=this,n=a.$element;return e?a.destroy().rating(t.extend(!0,a.options,e)).trigger("rating.refresh"):n}},t.fn.rating=function(n){var i=Array.apply(null,arguments),r=[];switch(i.shift(),this.each((function(){var s,l=t(this),o=l.data("rating"),c="object"==typeof n&&n,u=c.theme||l.data("theme"),d=c.language||l.data("language")||"en",h={},p={};o||(u&&(h=t.fn.ratingThemes[u]||{}),"en"===d||e.isEmpty(t.fn.ratingLocales[d])||(p=t.fn.ratingLocales[d]),s=t.extend(!0,{},t.fn.rating.defaults,h,t.fn.ratingLocales.en,p,c,l.data()),o=new a(this,s),l.data("rating",o)),"string"==typeof n&&r.push(o[n].apply(o,i))})),r.length){case 0:return this;case 1:return void 0===r[0]?this:r[0];default:return r}},t.fn.rating.defaults={theme:"",language:"cs",stars:5,filledStar:'<i class="fas fa-star"></i>',emptyStar:'<i class="fas fa-star empty-star"></i>',containerClass:"",size:"s",animate:!0,displayOnly:!1,rtl:!1,showClear:!1,showCaption:!0,starCaptionClasses:{.5:"",1:"",1.5:"",2:"",2.5:"",3:"",3.5:"",4:"",4.5:"",5:""},clearButton:'<i class="fas fa-minus"></i>',clearButtonBaseClass:"clear-rating",clearButtonActiveClass:"clear-rating-active",clearCaptionClass:"label label-default",clearValue:null,captionElement:null,clearElement:null,hoverEnabled:!0,hoverChangeCaption:!0,hoverChangeStars:!0,hoverOnClear:!0,zeroAsNull:!0},t.fn.ratingLocales.en={defaultCaption:"",starCaptions:{.5:"",1:"",1.5:"",2:"",2.5:"",3:"",3.5:"",4:"",4.5:"",5:""},clearButtonTitle:"Clear",clearCaption:""},t.fn.rating.Constructor=a,t(document).ready((function(){var e=t("input.rating");e.length&&e.removeClass("rating-loading").addClass("rating-loading").rating()}))}));